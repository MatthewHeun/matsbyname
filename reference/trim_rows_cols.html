<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="By default, the matsbyname package expends matrices
with 0 rows or columns prior to matrix operations
to ensure that rows and columns match.
There are times when trimming rows or columns is preferred
over the default behavior.
This function trims rows or columns in a to match
the rows or columns of mat.
The return value will have rows or columns of a removed if they do not appear in mat."><title>Trim rows and/or columns from a matrix — trim_rows_cols • matsbyname</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Trim rows and/or columns from a matrix — trim_rows_cols"><meta property="og:description" content="By default, the matsbyname package expends matrices
with 0 rows or columns prior to matrix operations
to ensure that rows and columns match.
There are times when trimming rows or columns is preferred
over the default behavior.
This function trims rows or columns in a to match
the rows or columns of mat.
The return value will have rows or columns of a removed if they do not appear in mat."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">matsbyname</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/matsbyname.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/about-vector-arguments.html">About Vector Arguments</a>
    <a class="dropdown-item" href="../articles/aggregation-vignette.html">Aggregation in `matsbyname`</a>
    <a class="dropdown-item" href="../articles/applybyname-vignette.html">Writing Custom Functions for `matsbyname`</a>
    <a class="dropdown-item" href="../articles/using-summarise-in-matsbyname.html">Using summarise in matsbyname</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MatthewHeun/matsbyname/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Trim rows and/or columns from a matrix</h1>
      <small class="dont-index">Source: <a href="https://github.com/MatthewHeun/matsbyname/blob/HEAD/R/trim.R" class="external-link"><code>R/trim.R</code></a></small>
      <div class="d-none name"><code>trim_rows_cols.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>By default, the <code>matsbyname</code> package expends matrices
with <code>0</code> rows or columns prior to matrix operations
to ensure that rows and columns match.
There are times when trimming rows or columns is preferred
over the default behavior.
This function trims rows or columns in <code>a</code> to match
the rows or columns of <code>mat</code>.
The return value will have rows or columns of <code>a</code> removed if they do not appear in <code>mat</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">trim_rows_cols</span><span class="op">(</span></span>
<span>  a <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  margin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  warn_if_a_incomplete <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  a_piece <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  mat_piece <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  notation <span class="op">=</span> <span class="fu">RCLabels</span><span class="fu">::</span><span class="va"><a href="https://matthewheun.github.io/RCLabels/reference/bracket_notation.html" class="external-link">bracket_notation</a></span>,</span>
<span>  prepositions <span class="op">=</span> <span class="fu">RCLabels</span><span class="fu">::</span><span class="va"><a href="https://matthewheun.github.io/RCLabels/reference/prepositions_list.html" class="external-link">prepositions_list</a></span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>a</dt>
<dd><p>A matrix to be trimmed.</p></dd>


<dt>mat</dt>
<dd><p>The matrix to be used as the template for rows and/or columns of <code>a</code>.</p></dd>


<dt>margin</dt>
<dd><p>The dimension of <code>a</code> to be trimmed. <code>1</code> means rows; <code>2</code> means columns.
Default is <code>c(1,2)</code>.</p></dd>


<dt>warn_if_a_incomplete</dt>
<dd><p>When <code>TRUE</code> (the default), a warning is emitted
if <code>a</code> is missing entries on <code>margin</code> that are present in <code>mat</code>.
Default is <code>TRUE</code>.</p></dd>


<dt>a_piece</dt>
<dd><p>The portion of <code>a</code> labels to be used for comparison. Default is "all".</p></dd>


<dt>mat_piece</dt>
<dd><p>The portion of <code>mat</code> labels to be used for comparison. Default is "all".</p></dd>


<dt>notation</dt>
<dd><p>The notation for row and column labels.
Default is <code><a href="https://matthewheun.github.io/RCLabels/reference/bracket_notation.html" class="external-link">RCLabels::bracket_notation</a></code>.</p></dd>


<dt>prepositions</dt>
<dd><p>The strings to be treated as prepositions in row and column labels.
Default is <code><a href="https://matthewheun.github.io/RCLabels/reference/prepositions_list.html" class="external-link">RCLabels::prepositions_list</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Matrix <code>a</code> with rows or columns trimmed to match <code>mat</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>a</code> is <code>NULL</code>, <code>NULL</code> is returned.
If <code>mat</code> is <code>NULL</code>, <code>a</code> is returned unmodified.
If <code>mat</code> has <code>NULL</code> dimnames, <code>a</code> is returned unmodified.
If <code>mat</code> has <code>NULL</code> for dimnames on <code>margin</code>, an error is returned.</p>
<p>A common use case for this function is to trim <code>a</code>, because it has too many
entries on <code>margin</code>s compared to <code>mat</code>.
This trimming will result in a smaller result for any mathematical operations
involving <code>a</code> and <code>mat</code>.
Typically, <code>a</code> should cover all the entries in <code>mat</code> on <code>margin</code>.
Thus, by default, this function warns if <code>a</code> is missing entries on <code>margin</code>
that are present in <code>mat</code>.
To turn off this checking behavior, set <code>warn_if_a_incomplete = FALSE</code>.</p>
<p><code>a_piece</code> and <code>mat_piece</code>
control which part of row and column names are
compared before trimming.
The default values for <code>a_piece</code> and <code>mat_piece</code> are "all",
meaning that the entire label should be matched.
Other options for <code>a_piece</code> and <code>mat_piece</code> are "pref" and "suff",
which will match the prefix or suffix of the labels.
Alternatively, prepositions can be given such that
objects of prepositions will be matched.
Examples include "from" or "in".
See <code><a href="https://matthewheun.github.io/RCLabels/reference/get_piece.html" class="external-link">RCLabels::get_piece()</a></code> for details.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://matthewheun.github.io/RCLabels/reference/get_piece.html" class="external-link">RCLabels::get_piece()</a></code>, which is used internally.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, </span></span>
<span class="r-in"><span>              <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, </span></span>
<span class="r-in"><span>              <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">3</span>, ncol <span class="op">=</span> <span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, </span></span>
<span class="r-in"><span>            dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r1"</span>, <span class="st">"r2"</span>, <span class="st">"r3"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c1"</span>, <span class="st">"c2"</span>, <span class="st">"c3"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span> <span class="fu"><a href="setrowtype.html">setrowtype</a></span><span class="op">(</span><span class="st">"rowtype"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="setcoltype.html">setcoltype</a></span><span class="op">(</span><span class="st">"coltype"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, </span></span>
<span class="r-in"><span>            dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r1"</span>, <span class="st">"bogus"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c1"</span>, <span class="st">"bogus"</span>, <span class="st">"c2"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span> <span class="fu"><a href="setrowtype.html">setrowtype</a></span><span class="op">(</span><span class="st">"rowtype"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="setcoltype.html">setcoltype</a></span><span class="op">(</span><span class="st">"coltype"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">trim_rows_cols</span><span class="op">(</span><span class="va">a</span>, <span class="va">mat</span>, margin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>In trim_rows_cols, 'a' is missing the following rows or columns relative to 'mat': bogus</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    c1 c2 c3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r1  1  2  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"rowtype")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rowtype"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"coltype")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "coltype"</span>
<span class="r-in"><span><span class="fu">trim_rows_cols</span><span class="op">(</span><span class="va">a</span>, <span class="va">mat</span>, margin <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>In trim_rows_cols, 'a' is missing the following rows or columns relative to 'mat': bogus</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    c1 c2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r1  1  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r2  4  5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r3  7  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"rowtype")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rowtype"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"coltype")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "coltype"</span>
<span class="r-in"><span><span class="fu">trim_rows_cols</span><span class="op">(</span><span class="va">a</span>, <span class="va">mat</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>In trim_rows_cols, 'a' is missing the following rows or columns relative to 'mat': bogus</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>In trim_rows_cols, 'a' is missing the following rows or columns relative to 'mat': bogus</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    c1 c2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r1  1  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"rowtype")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rowtype"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"coltype")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "coltype"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Matthew Heun.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

